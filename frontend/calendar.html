<!DOCTYPE html>
<html>

<head>

<title>ìº˜ë¦°ë”</title>

<style>

body{

text-align:center;
font-family:sans-serif;

}

.calendar{

display:grid;
grid-template-columns:repeat(7,1fr);

gap:10px;

margin:40px;

}

.day{

padding:20px;

background:#ffeef3;

border-radius:10px;

cursor:pointer;

}

#recordBox{

display:none;

margin:20px;

}

img{

max-width:200px;

margin-top:10px;

}

</style>

</head>

<body>

<h1>ğŸ“… ìš°ë¦¬ì˜ ë‚ ì§œ</h1>

<div class="calendar" id="calendar"></div>

<div id="recordBox">

<h3 id="selectedDate"></h3>

<input type="file" id="photo">

<br><br>

<textarea id="text"
placeholder="ì˜¤ëŠ˜ ê¸°ë¡ ì‘ì„±"
rows="4"
cols="30"></textarea>

<br><br>

<button onclick="saveRecord()">ì €ì¥</button>

<div id="preview"></div>

</div>

<script>

const calendar=document.getElementById("calendar");
let currentDay=null;

for(let i=1;i<=30;i++){

const day=document.createElement("div");

day.className="day";

let text=i+"ì¼";

// ê¸°ë¡ í™•ì¸
const record=localStorage.getItem("record_"+i);

if(record){

text+=" â¤ï¸";

}

// ì¼ì • í™•ì¸
const schedule=localStorage.getItem("schedule_"+i);

if(schedule){

const data=JSON.parse(schedule);

text+=" "+data.emoji;

}

day.innerText=text;

day.addEventListener("click",()=>{

currentDay=i;

showMenu();

});

calendar.appendChild(day);

}

function saveRecord(){

const text=document.getElementById("text").value;

const photo=document.getElementById("photo").files[0];

if(photo){

const reader=new FileReader();

reader.onload=function(){

localStorage.setItem(

"record_"+currentDay,

JSON.stringify({

text:text,

image:reader.result

})

);

alert("ì €ì¥ ì™„ë£Œ!");

loadRecord();

};

reader.readAsDataURL(photo);

}else{

localStorage.setItem(

"record_"+currentDay,

JSON.stringify({

text:text

})

);

alert("ì €ì¥ ì™„ë£Œ!");

}

}

function loadRecord(){

const data=localStorage.getItem(

"record_"+currentDay

);

const preview=document.getElementById("preview");

preview.innerHTML="";

document.getElementById("text").value="";

if(data){

const record=JSON.parse(data);

document.getElementById("text").value=

record.text || "";

if(record.image){

const img=document.createElement("img");

img.src=record.image;

preview.appendChild(img);

}

}

}

function showMenu(){

const choice=prompt(

"ì„ íƒí•˜ì„¸ìš”\n1 ê¸°ë¡ ì‘ì„±\n2 ì¼ì • ì¶”ê°€"

);

if(choice==="1"){

document.getElementById("recordBox").style.display="block";

document.getElementById("selectedDate").innerText=

currentDay+"ì¼ ê¸°ë¡";

loadRecord();

}

if(choice==="2"){

addSchedule();

}

}

function addSchedule(){

const emoji=prompt(

"ì´ëª¨ì§€ ì…ë ¥\nì˜ˆ â¤ï¸ ğŸ‚ âœˆï¸"

);

const title=prompt("ì¼ì • ë‚´ìš©");

if(!emoji || !title)return;

localStorage.setItem(

"schedule_"+currentDay,

JSON.stringify({

emoji:emoji,

title:title

})

);

alert("ì¼ì • ì €ì¥!");

location.reload();

}

</script>

</body>

</html>